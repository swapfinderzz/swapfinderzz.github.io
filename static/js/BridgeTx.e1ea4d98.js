(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["BridgeTx"],{"071e":function(e,t,o){"use strict";o.r(t);o("caad"),o("99af"),o("fb6a");var n=o("7a23"),c=function(e){return Object(n["pushScopeId"])("data-v-6a45b5c4"),e=e(),Object(n["popScopeId"])(),e},i={class:"bridge-tx-container"},r={class:"status-container"},a={class:"icon-container"},s={key:0,class:"tx-info"},l={class:"tx-info_li"},d={class:"token-container"},f={class:"icon-token-container mr-5"},m=["src"],b={class:"mr-5"},u={class:"tx-info_li"},j={class:"token-container"},O={class:"icon-token-container mr-5"},h=["src"],p={class:"mr-5"},g={class:"tx-info_li"},k={class:"flex items-center"},x={class:"tx-info_li"},v={class:"flex items-center"},y={key:0},I={key:1},T={class:"tx-info_li"},N={class:"flex items-center"},B={class:"iconfont icon-copy ml-5 clickable",style:{color:"#999"}},E={class:"tx-info_li"},V={class:"flex items-center"},S={class:"tx-info_li"},w=c((function(){return Object(n["createElementVNode"])("span",null,"Hash",-1)})),C=c((function(){return Object(n["createElementVNode"])("span",null,null,-1)})),_={class:"flex items-center"},$={class:"ml-5"},D={class:"flex items-center"},A=["onClick"],U={class:"iconfont icon-copy ml-5 clickable",style:{color:"#999"}},z={class:"flex items-center justify-center btn-container"};function F(e,t,c,F,H,R){var M,J,P,q,L,G,K,Q,W,X,Y,Z,ee,te,oe=Object(n["resolveComponent"])("van-loading"),ne=Object(n["resolveComponent"])("van-icon"),ce=Object(n["resolveComponent"])("van-image"),ie=Object(n["resolveComponent"])("van-divider"),re=Object(n["resolveComponent"])("van-button"),ae=Object(n["resolveDirective"])("copy");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",i,[Object(n["createElementVNode"])("div",r,[Object(n["createElementVNode"])("div",a,[["pending","wait_kyc","wait_refund"].includes(null===(M=H.txInfo)||void 0===M?void 0:M.finalStatus)?(Object(n["openBlock"])(),Object(n["createBlock"])(oe,{key:0,size:"0.48rem",type:"spinner",color:"#3F80F7"})):"success"===(null===(J=H.txInfo)||void 0===J?void 0:J.finalStatus)?(Object(n["openBlock"])(),Object(n["createBlock"])(ne,{key:1,name:"success",color:"#12B886",size:"0.48rem"})):(Object(n["openBlock"])(),Object(n["createBlock"])(ne,{key:2,name:"fail",color:"#999999",size:"0.48rem"}))]),Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(R.formatStatus(null===(P=H.txInfo)||void 0===P?void 0:P.finalStatus)),1)]),H.txInfo.txHash?(Object(n["openBlock"])(),Object(n["createElementBlock"])("ul",s,[Object(n["createElementVNode"])("li",l,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("from")),1),Object(n["createElementVNode"])("div",d,[Object(n["createElementVNode"])("div",f,[Object(n["createVNode"])(ce,{round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:H.txInfo.fromTokenUrl||e.$f.formatIcon(H.txInfo.fromTokenAddress+"-"+((null===(q=H.txInfo)||void 0===q?void 0:q.chain)||H.getBridgeChain(null===(L=H.txInfo)||void 0===L?void 0:L.fromTokenChain))),"error-icon":o("aeccf")},null,8,["src","error-icon"]),null!==(G=H.txInfo)&&void 0!==G&&G.fromTokenChain?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:0,class:"icon-svg icon-network",src:"".concat(e.$store.state.s3BaseUrl,"chain/").concat(H.getBridgeChain(null===(K=H.txInfo)||void 0===K?void 0:K.fromTokenChain),".png"),alt:"",srcset:""},null,8,m)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("span",b,Object(n["toDisplayString"])(e.$f.formatNumber2(H.txInfo.fromAmount,5)),1),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])((null===(Q=H.txInfo)||void 0===Q?void 0:Q.fromTokenSymbol)||""),1)])]),Object(n["createElementVNode"])("li",u,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("to")),1),Object(n["createElementVNode"])("div",j,[Object(n["createElementVNode"])("div",O,[Object(n["createVNode"])(ce,{round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:H.txInfo.toTokenUrl||e.$f.formatIcon(H.txInfo.toTokenAddress+"-"+((null===(W=H.txInfo)||void 0===W?void 0:W.chain)||H.getBridgeChain(null===(X=H.txInfo)||void 0===X?void 0:X.toTokenChain))),"error-icon":o("aeccf")},null,8,["src","error-icon"]),null!==(Y=H.txInfo)&&void 0!==Y&&Y.toTokenChain?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:0,class:"icon-svg icon-network",src:"".concat(e.$store.state.s3BaseUrl,"chain/").concat((null===(Z=H.txInfo)||void 0===Z?void 0:Z.chain)||H.getBridgeChain(null===(ee=H.txInfo)||void 0===ee?void 0:ee.toTokenChain),".png"),alt:"",srcset:""},null,8,h)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("span",p,Object(n["toDisplayString"])(e.$f.formatNumber2(H.txInfo.toTokenAmount,5)),1),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])((null===(te=H.txInfo)||void 0===te?void 0:te.toTokenSymbol)||""),1)])]),Object(n["createElementVNode"])("li",g,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("exchangePlatform")),1),Object(n["createElementVNode"])("div",k,[Object(n["createVNode"])(ce,{class:"icon-token mr-5",round:"",width:"0.36rem",height:"0.36rem","lazy-load":"","show-loading":"",src:H.txInfo.logoUrl,"error-icon":o("aeccf")},null,8,["src","error-icon"]),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(H.txInfo.dexName),1)])]),Object(n["createElementVNode"])("li",x,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("referenceRate")),1),Object(n["createElementVNode"])("div",v,[H.rateType?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",y,"1 "+Object(n["toDisplayString"])(H.txInfo.fromTokenSymbol)+" = "+Object(n["toDisplayString"])(R.getRate(1))+" "+Object(n["toDisplayString"])(H.txInfo.toTokenSymbol),1)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",I,"1 "+Object(n["toDisplayString"])(H.txInfo.toTokenSymbol)+" = "+Object(n["toDisplayString"])(R.getRate(0))+" "+Object(n["toDisplayString"])(H.txInfo.fromTokenSymbol),1)),Object(n["createElementVNode"])("i",{class:"iconfont icon-switch-h ml-5 clickable",style:{color:"#999"},onClick:t[0]||(t[0]=Object(n["withModifiers"])((function(e){return H.rateType=!H.rateType}),["stop"]))})])]),Object(n["createElementVNode"])("li",T,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("receiveAddress1")),1),Object(n["createElementVNode"])("div",N,[Object(n["createElementVNode"])("a",{onClick:t[1]||(t[1]=Object(n["withModifiers"])((function(e){var t,o;return R.goAddress((null===(t=H.txInfo)||void 0===t?void 0:t.chain)||H.getBridgeChain(null===(o=H.txInfo)||void 0===o?void 0:o.toTokenChain),H.txInfo.receiveAddress)}),["stop"])),target:"_blank",class:"flex items-center"},Object(n["toDisplayString"])(H.txInfo.receiveAddress?H.txInfo.receiveAddress.slice(0,6)+"..."+H.txInfo.receiveAddress.slice(-6):""),1),Object(n["withDirectives"])(Object(n["createElementVNode"])("i",B,null,512),[[ae,H.txInfo.receiveAddress]])])]),Object(n["createElementVNode"])("li",E,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("createTime")),1),Object(n["createElementVNode"])("div",V,Object(n["toDisplayString"])(e.$f.formatDate(H.txInfo.createTimeT)),1)]),Object(n["createVNode"])(ie),Object(n["createElementVNode"])("li",S,[w,C,H.txInfo.transaction?(Object(n["openBlock"])(),Object(n["createElementBlock"])("a",{key:0,onClick:t[2]||(t[2]=Object(n["withModifiers"])((function(t){return e.$f.openBrowser(e.$f.formatExplorerUrl(H.txInfo.chain,H.txInfo.transaction,"tx"))}),["stop"])),target:"_blank",style:{color:"#878fbc"}},Object(n["toDisplayString"])(H.txInfo.transaction?H.txInfo.transaction.slice(0,6)+"..."+H.txInfo.transaction.slice(-6):""),1)):Object(n["createCommentVNode"])("",!0)]),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(H.txInfo.status||[],(function(t,o){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{class:"tx-info_li",key:o},[Object(n["createElementVNode"])("div",_,["pending"===t.status||"wait_kyc"===t.status||"wait_refund"===t.status?(Object(n["openBlock"])(),Object(n["createBlock"])(oe,{key:0,size:"0.4rem",color:"#3F80F7"})):"success"===t.status?(Object(n["openBlock"])(),Object(n["createBlock"])(ne,{key:1,name:"success",color:"#12B886",size:"0.4rem"})):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("span",$,Object(n["toDisplayString"])(t.chain),1)]),Object(n["createElementVNode"])("div",D,[Object(n["createElementVNode"])("a",{onClick:Object(n["withModifiers"])((function(o){return e.$f.openBrowser(t.url)}),["stop"]),target:"_blank",class:"flex items-center"},Object(n["toDisplayString"])(t.txHash?t.txHash.slice(0,6)+"..."+t.txHash.slice(-6):""),9,A),Object(n["withDirectives"])(Object(n["createElementVNode"])("i",U,null,512),[[ae,t.txHash]])])])})),128))])):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("div",z,[Object(n["createVNode"])(re,{class:"btn-s",plain:"",round:"",onClick:Object(n["withModifiers"])(R.goBridge,["stop"])},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("swapAgain")),1)]})),_:1},8,["onClick"])])])}var H=o("f3f3"),R=o("d0af"),M=(o("ac1f"),o("00b4"),o("1276"),o("b680"),o("901e")),J=o.n(M),P=o("365c"),q=o("2c28"),L={name:"BridgeTx",setup:function(){var e=Object(q["useStorage"])("bridge_FromToken",{address:"",chain:"",symbol:""},sessionStorage),t=Object(q["useStorage"])("bridge_toToken",{address:"",chain:"",symbol:""},sessionStorage);return{fromToken:e,toToken:t}},data:function(){return{getBridgeChain:P["l"],rateType:!0,txInfo:{}}},watch:{"$route.params.hash":{handler:function(e){e&&this.init()},immediate:!0}},mounted:function(){},methods:{init:function(){var e=this.$route.params.hash;/0x.+-.+-v[1|2]/.test(e)?this.getUserTxDetail():this.getBridgeTransDetail()},getBridgeTransDetail:function(){var e=this,t=this.$route.params.hash;t&&Object(P["q"])(t).then((function(o){console.log(o),e.txInfo=o,["success","refund_complete","fail"].includes(null===o||void 0===o?void 0:o.finalStatus)||setTimeout((function(){e.getBridgeTransDetail(t)}),8e3)})).catch((function(t){console.log(t),e.$toast({position:"top",message:t})}))},getUserTxDetail:function(){var e=this,t=this.$route.params.hash,n=t.split("-"),c=Object(R["a"])(n,3),i=c[0],r=c[1],a=c[2],s={transaction:i,chain:r,source_type:a};Object(P["U"])(s).then((function(t){var n=o("9d64");e.txInfo=Object(H["a"])(Object(H["a"])({},t),{},{createTimeT:1e3*t.time,txHash:t.transaction,fromTokenAddress:t.from_address,fromAmount:t.from_amount,fromTokenSymbol:t.from_symbol,toTokenAddress:t.to_address,toTokenAmount:t.to_amount,toTokenSymbol:t.to_symbol,finalStatus:0===t.is_merged?"pending":"success",receiveAddress:t.wallet_address,logoUrl:n,dexName:"AveSwap"})}))},getRate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.txInfo.fromAmount&&this.txInfo.toTokenAmount?0===e?this.$f.formatNumber2(new J.a(this.txInfo.fromAmount).div(this.txInfo.toTokenAmount).toFixed()):this.$f.formatNumber2(new J.a(this.txInfo.toTokenAmount).div(this.txInfo.fromAmount).toFixed()):"--"},goAddress:function(e,t){this.$f.openBrowser(this.$f.formatExplorerUrl(e,t,"address"))},formatStatus:function(e){var t,o={pending:this.$t("swapPending"),success:this.$t("swapSucceed"),fail:this.$t("swapFailed"),wait_kyc:this.$t("wait_kyc"),wait_refund:this.$t("wait_refund"),refund_complete:this.$t("refund_complete"),timeout:this.$t("timeout")};return null!==(t=o[e])&&void 0!==t?t:e},goBridge:function(){var e,t;this.fromToken={address:this.txInfo.fromTokenAddress,chain:this.getBridgeChain(null===(e=this.txInfo)||void 0===e?void 0:e.fromTokenChain),bridgeChain:this.txInfo.fromTokenChain,symbol:this.txInfo.fromTokenSymbol,logoURI:this.txInfo.fromTokenUrl},this.toToken={address:this.txInfo.toTokenAddress,chain:this.getBridgeChain(null===(t=this.txInfo)||void 0===t?void 0:t.toTokenChain),bridgeChain:this.txInfo.toTokenChain,symbol:this.txInfo.toTokenSymbol,logoURI:this.txInfo.toTokenUrl},this.$router.push({name:"Bridge"})}}},G=(o("1623"),o("6b0d")),K=o.n(G);const Q=K()(L,[["render",F],["__scopeId","data-v-6a45b5c4"]]);t["default"]=Q},1623:function(e,t,o){"use strict";o("28c6")},"28c6":function(e,t,o){},"9d64":function(e,t,o){e.exports=o.p+"static/img/logo.ae1a22fb.png"},aeccf:function(e,t,o){e.exports=o.p+"static/img/icon-default.75f6e9a0.png"}}]);