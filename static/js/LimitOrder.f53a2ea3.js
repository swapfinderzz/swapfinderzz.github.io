(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["LimitOrder"],{"1bb8":function(e,t,o){"use strict";o.r(t);o("fb6a");var n=o("7a23"),r={class:"bridge-tx-container"},i={class:"status-container"},c={class:"icon-container"},a={class:"tx-info"},l={class:"tx-info_li"},s={class:"token-container"},d={class:"icon-token-container mr-5"},f=["src"],m={class:"mr-5"},u={class:"tx-info_li"},b={class:"token-container"},O={class:"icon-token-container mr-5"},j=["src"],v={class:"mr-5"},p={class:"tx-info_li"},h={class:"flex items-center"},g={key:0,class:"tx-info_li"},_={class:"flex items-center justify-end"},I={class:"tx-info_li"},k={class:"flex items-center"},N={class:"tx-info_li"},E={class:"flex items-center"},y={key:0},x={key:1,class:"tx-info_li"},$={class:"flex items-center"},V=["href"],D={class:"iconfont icon-copy",style:{"margin-left":"0.1rem"}},w={key:2,class:"tx-info_li"},B={class:"flex items-center"},S={class:"tx-info_li"},C={class:"flex items-center",style:{"text-align":"right"}},T=["innerHTML"],L={class:"flex items-center justify-center btn-container"};function z(e,t,z,U,G,F){var M,A,P,H,R,J,K,q,Q,W,X,Y,Z,ee,te,oe,ne,re,ie,ce=Object(n["resolveComponent"])("van-nav-bar"),ae=Object(n["resolveComponent"])("van-icon"),le=Object(n["resolveComponent"])("van-loading"),se=Object(n["resolveComponent"])("van-image"),de=Object(n["resolveComponent"])("van-button"),fe=Object(n["resolveDirective"])("copy");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",r,[Object(n["createVNode"])(ce,{"left-text":"","left-arrow":"",fixed:"",placeholder:"","safe-area-inset-top":"","z-index":"2",title:e.$t("limitOrderDetails"),onClickLeft:t[0]||(t[0]=function(t){return e.$router.go(-1)}),onClickRight:t[1]||(t[1]=function(t){return e.show=!0})},null,8,["title"]),Object(n["createElementVNode"])("div",i,[Object(n["createElementVNode"])("div",c,[2===G.orderInfo.status?(Object(n["openBlock"])(),Object(n["createBlock"])(ae,{key:0,name:"success",color:"#12B886",size:"0.48rem"})):1===G.orderInfo.status||10===G.orderInfo.status||11===G.orderInfo.status||(0===G.orderInfo.status||-1===G.orderInfo.status)&&1e3*G.orderInfo.created_at+G.LimitExpiredTime<Date.now()?(Object(n["openBlock"])(),Object(n["createBlock"])(ae,{key:1,name:"fail",color:"#999999",size:"0.48rem"})):(Object(n["openBlock"])(),Object(n["createBlock"])(le,{key:2,size:"0.48rem",type:"spinner",color:"#3F80F7"}))]),Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(F.formatStatus(G.orderInfo)),1)]),Object(n["createElementVNode"])("ul",a,[Object(n["createElementVNode"])("li",l,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("from")),1),Object(n["createElementVNode"])("div",s,[Object(n["createElementVNode"])("div",d,[Object(n["createVNode"])(se,{round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:e.$f.formatIcon(G.orderInfo.from_token+"-"+G.orderInfo.chain),"error-icon":o("aeccf")},null,8,["src","error-icon"]),null!==(M=G.orderInfo)&&void 0!==M&&M.chain?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:0,class:"icon-svg icon-network",src:"https://ave.s3.ap-east-1.amazonaws.com/chain/".concat(null===(A=G.orderInfo)||void 0===A?void 0:A.chain,".png"),alt:"",srcset:""},null,8,f)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("span",m,Object(n["toDisplayString"])(e.$f.formatNumber2(F.formatUnits((null===(P=G.orderInfo)||void 0===P?void 0:P.from_amount)||0,(null===(H=G.orderInfo)||void 0===H?void 0:H.from_token_decimals)||0))),1),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])((null===(R=G.orderInfo)||void 0===R?void 0:R.from_token_symbol)||""),1)])]),Object(n["createElementVNode"])("li",u,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("to")),1),Object(n["createElementVNode"])("div",b,[Object(n["createElementVNode"])("div",O,[Object(n["createVNode"])(se,{round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:e.$f.formatIcon(G.orderInfo.to_token+"-"+G.orderInfo.chain),"error-icon":o("aeccf")},null,8,["src","error-icon"]),null!==(J=G.orderInfo)&&void 0!==J&&J.chain?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:0,class:"icon-svg icon-network",src:"https://ave.s3.ap-east-1.amazonaws.com/chain/".concat(null===(K=G.orderInfo)||void 0===K?void 0:K.chain,".png"),alt:"",srcset:""},null,8,j)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("span",v,Object(n["toDisplayString"])(e.$f.formatNumber2(F.formatUnits((null===(q=G.orderInfo)||void 0===q?void 0:q.to_amount)||0,(null===(Q=G.orderInfo)||void 0===Q?void 0:Q.to_token_decimals)||0))),1),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])((null===(W=G.orderInfo)||void 0===W?void 0:W.to_token_symbol)||""),1)])]),Object(n["createElementVNode"])("li",p,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("orderType")),1),Object(n["createElementVNode"])("div",h,Object(n["toDisplayString"])(1===G.orderInfo.order_type?e.$t("stopLimit"):e.$t("generalDelegation")),1)]),1===G.orderInfo.order_type?(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",g,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("effectiveCondition")),1),Object(n["createElementVNode"])("div",_,Object(n["toDisplayString"])(e.$t("triggerPriceEffective",{symbol:G.orderInfo.target_token===G.orderInfo.from_token?(null===(X=G.orderInfo)||void 0===X?void 0:X.from_token_symbol)||"":(null===(Y=G.orderInfo)||void 0===Y?void 0:Y.to_token_symbol)||"",price:e.$f.formatNumber2(null===(Z=G.orderInfo)||void 0===Z?void 0:Z.trigger_price)})),1)])):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("li",I,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("delegatePrice"))+"("+Object(n["toDisplayString"])(G.orderInfo.target_token===G.orderInfo.from_token?(null===(ee=G.orderInfo)||void 0===ee?void 0:ee.from_token_symbol)||"":(null===(te=G.orderInfo)||void 0===te?void 0:te.to_token_symbol)||"")+")",1),Object(n["createElementVNode"])("div",k," $ "+Object(n["toDisplayString"])(e.$f.formatNumber2(null===(oe=G.orderInfo)||void 0===oe?void 0:oe.target_limit_price)),1)]),Object(n["createElementVNode"])("li",N,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("delegateTime")),1),Object(n["createElementVNode"])("div",E,[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.$f.formatDate(G.orderInfo.created_at)),1),(0===G.orderInfo.status||-1===G.orderInfo.status)&&Date.now()<1e3*G.orderInfo.created_at+G.LimitExpiredTime?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",y,"("+Object(n["toDisplayString"])(e.$t("expiresInTime",{t:e.$dayjs(1e3*G.orderInfo.created_at+G.LimitExpiredTime).fromNow()}))+")",1)):Object(n["createCommentVNode"])("",!0)])]),G.orderInfo.executed_tx_hash&&2===G.orderInfo.status?(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",x,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("txHash")),1),Object(n["createElementVNode"])("div",$,[Object(n["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(G.orderInfo.chain,G.orderInfo.executed_tx_hash,"tx"),target:"_blank"},Object(n["toDisplayString"])((null===(ne=G.orderInfo.executed_tx_hash)||void 0===ne?void 0:ne.slice(0,6))+"..."+(null===(re=G.orderInfo.executed_tx_hash)||void 0===re?void 0:re.slice(-6))),9,V),Object(n["withDirectives"])(Object(n["createElementVNode"])("i",D,null,512),[[fe,G.orderInfo.executed_tx_hash]])])])):Object(n["createCommentVNode"])("",!0),G.orderInfo.executed_tx_hash&&2===G.orderInfo.status?(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",w,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("txTime")),1),Object(n["createElementVNode"])("div",B,Object(n["toDisplayString"])(e.$f.formatDate(G.orderInfo.finished_at)),1)])):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("li",S,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("estimateGas")),1),Object(n["createElementVNode"])("div",C,Object(n["toDisplayString"])(e.$t("estimateGasTips",{n:e.$f.formatNumber2(null!==(ie=G.limitGasU)&&void 0!==ie?ie:1,1)})),1)])]),Object(n["createElementVNode"])("div",{style:{color:"#f8be46","text-align":"left","font-size":"0.24rem","line-height":"1.5","margin-top":"0.6rem"},innerHTML:e.$t("limitOrderTips")},null,8,T),Object(n["createElementVNode"])("div",L,[0!==G.orderInfo.status&&-1!==G.orderInfo.status||!(G.orderInfo.target_token===G.NATIVE_TOKEN||(0===G.orderInfo.status||-1===G.orderInfo.status)&&1e3*G.orderInfo.created_at+G.LimitExpiredTime>Date.now())?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])(de,{key:0,class:"btn-s",loading:G.loading,"loading-text":e.$t("revoke"),plain:"",round:"",onClick:Object(n["withModifiers"])(F.confirmCancel,["stop"])},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("revoke")),1)]})),_:1},8,["loading","loading-text","onClick"])),Object(n["createVNode"])(de,{class:"btn-s",plain:"",round:"",onClick:Object(n["withModifiers"])(F.goLimit,["stop"])},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("swapAgain")),1)]})),_:1},8,["onClick"])])])}o("99af"),o("d3b7");var U=o("365c"),G=o("6779"),F=o("c9d9"),M={name:"LimitOrderDetails",data:function(){return{LimitExpiredTime:F["g"],NATIVE_TOKEN:F["k"],orderInfo:{},loading:!1,limitContractsFee:F["t"],limitGasU:"0"}},activated:function(){this.init()},methods:{formatUnits:G["utils"].formatUnits,init:function(){this.getLimitOrder()},getLimitOrder:function(){var e=this;Object(U["B"])({id:this.$route.params.id}).then((function(t){var o;console.log(t),e.orderInfo=null!==(o=null===t||void 0===t?void 0:t[0])&&void 0!==o?o:{},e.getGasUsd()}))},getGasUsd:function(){var e=this;this.orderInfo.chain&&Object(U["x"])(this.orderInfo.chain).then((function(t){e.limitGasU=t||F["t"][e.orderInfo.chain]}))},formatStatus:function(e){var t;if((0===e.status||-1===e.status)&&1e3*e.created_at+F["g"]<Date.now())return this.$t("expired1");var o=e.status,n={0:this.$t("pendingOrder"),1:this.$t("cancelled"),2:this.$t("completed"),10:this.$t("fail1")+"(".concat(this.$t("nonceError"),")"),11:this.$t("fail1")+"(".concat(this.$t("chainError"),")"),12:this.$t("fail1")+"(".concat(this.$t("signatureError"),")"),13:this.$t("fail1")+"(".concat(this.$t("approveGasPriceLow"),")"),"-1":this.$t("triggerPriceNotReached")};return null!==(t=n[o])&&void 0!==t?t:this.$t("pendingOrder")},formatStatusColor:function(e){if((0===e.status||-1===e.status)&&1e3*e.created_at+F["g"]<Date.now())return"#999999";var t=e.status;return 1===t||10===t||11===t||12===t?"#999999":2===t?"#12B886":0===t?"#3F80F7":"#FF0000"},goLimit:function(){if(this.orderInfo.target_token&&this.orderInfo.chain){var e=this.orderInfo.target_token+"-"+this.orderInfo.chain,t=1===this.orderInfo.order_type?1:0;location.href="/swap/".concat(e,"/").concat(t)}},confirmCancel:function(){var e=this;this.$dialog.confirm({title:this.$t("cancelOrderConfirming"),message:this.$t("confirmCancelMessage"),confirmButtonText:this.$t("confirm1"),confirmButtonColor:"#558BED",cancelButtonText:this.$t("cancel")}).then((function(){e.cancelLimitOrder(e.orderInfo)}))},cancelLimitOrder:function(e){var t=this,o={fromToken:e.from_token,fromAmount:e.from_amount,toToken:e.to_token,minReturn:e.to_min_amount,salt:e.salt,id:e.id,order_id:e.order_id};console.log(o),this.loading=!0,Object(U["h"])(o).then((function(e){console.log(e),t.$notify({type:"success",message:t.$t("cancelledOrderSuccessfully")}),t.init()})).catch((function(e){t.$f.handleError(e)})).finally((function(){t.loading=!1}))}}},A=(o("ca26"),o("6b0d")),P=o.n(A);const H=P()(M,[["render",z],["__scopeId","data-v-07265174"]]);t["default"]=H},"9bd3":function(e,t,o){},aeccf:function(e,t,o){e.exports=o.p+"static/img/icon-default.75f6e9a0.png"},ca26:function(e,t,o){"use strict";o("9bd3")}}]);